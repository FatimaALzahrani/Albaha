<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تفاصيل المكان</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h2 id="title"></h2>
        <div id="placeDetails">

        </div>
    </div>

    <script src="https://kit.fontawesome.com/d5c6986420.js" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
    <script>

        const firebaseConfig = {
            apiKey: "AIzaSyC3mRpVul1lr2Ho0ZowXtOSWdk5jxpS008",
            authDomain: "albaha-cb071.firebaseapp.com",
            databaseURL: "https://albaha-cb071-default-rtdb.firebaseio.com",
            projectId: "albaha-cb071",
            storageBucket: "albaha-cb071.appspot.com",
            messagingSenderId: "81343445763",
            appId: "1:81343445763:web:c7fdd485e1a0c1e3094736",
            measurementId: "G-HGCPPH9DV9"
        };

        firebase.initializeApp(firebaseConfig);

        // استرجاع اسم الدورة من معلمة الاستعلام في عنوان URL
        const urlParams = new URLSearchParams(window.location.search);
        const eventName = urlParams.get('name');

        // قم بالرجوع إلى جدول "events" في Firebase Realtime Database
        const eventsRef = firebase.database().ref('events');

        // استمع لتغييرات الجدول
        eventsRef.on('value', function (snapshot) {
            const eventsData = snapshot.val();

            // الآن يمكنك البحث عن الدورة التي تحمل نفس الاسم
            if (eventsData) {
                for (const eventId in eventsData) {
                    const event = eventsData[eventId];
                    if (event.name === eventName) {
                        // تم العثور على الدورة - يمكنك عرض التفاصيل هنا
                        displayEventDetails(event);
                        break;
                    }
                }
            }
        });

        // عرض تفاصيل الدورة
        function displayEventDetails(place) {
            const title = document.getElementById('title');
            const eventDetailsContainer = document.getElementById('placeDetails');

            if (eventDetailsContainer) {
                // قم بإنشاء عناصر HTML أو استخدامها لعرض تفاصيل الدورة
                // على سبيل المثال:
                const eventDetailsHTML = `
                <p>${place.description}</p>
                <br>

                <center>
                <div id="imgs">
                    <img src="${place.img}" alt="صورة" class="place-img">
                    <img src="${place.img1}" alt="صورة" class="place-img">
                    <img src="${place.img2}" alt="صورة" class="place-img">
                    <img src="${place.img3}" alt="صورة" class="place-img">
                </div>
</center>

            <p><strong>كلمة رئيسية:</strong> ${place.keyword}</p><br>
                <p><strong>نوع المكان:</strong> ${place.type}</p><br>
                <p><strong>وصف الموقع:</strong> <br> ${place.location}</p><br><br>
                <center><p><strong></strong> <a href="${place.link}" target="_blank"><i class="fa-solid fa-map-location-dot" style="font-size: 30px;color: #541d38;"></i></a></p></center>
                <br><p><strong>المميزات:</strong><br> ${place.charcterstic}</p><br>
                <p><strong>الخدمات:</strong><br> ${place.serves}</p>
                `;

                eventDetailsContainer.innerHTML = eventDetailsHTML;
                title.textContent = place.name;

            }
        }

    </script>
</body>

</html>

<!-- <div id="designs" >
    <ul>
    <li class="design" onclick="selectDesign(1)">
        <img src="${place.img}" alt="Design 1">
    </li>
    <li class="design" onclick="selectDesign(2)">
        <img src="${place.img1}" alt="Design 2">
    </li>
    <li class="design" onclick="selectDesign(3)">
        <img src="${place.img2}" alt="Design 3">
    </li>
    <li class="design" onclick="selectDesign(4)">
        <img src="${place.img3}" alt="Design 4">
        </li>
        </ul>
        </div> -->